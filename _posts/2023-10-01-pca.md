---
layout: post
title: "PCA(Principal Component Analysis) ile Boyutların Üstesinden Gelmek"
subtitle: "PCA(Principal Component Analysis - Temel Bileşenler Analizi), veri analizi ve boyut azaltma konularında sıkça kullanılan güçlü bir araçtır.Bu yazı da PCA'yı ele alacağım."
author: "Şuheda Karabudak"
header-style: text
tags:
  - İstatistik
  - Aykırı değer
  - Outliers
  - Veri
---

![](https://1.bp.blogspot.com/-pgMAHiIWvuw/Tql5HIXNdRI/AAAAAAAABLI/I2zPF5cLRwQ/s1600/clust.gif)


PCA (Temel Bileşenler Analizi) Nedir 
--
PCA,çok boyutlu veri kümelerinin boyutlarını azaltmak ve veri setinin temel yapısını anlamak için kullanılan bir istatistiksel tekniktir. Temel olarak, veri setindeki karmaşıklığı azaltır ve verilerin en önemli özelliklerini belirler.

PCA Nasıl Çalışır 
--
PCA'nın temel mantığı, veri setinin değişkenlerinin bir kombinasyonunu kullanarak yeni bir değişken seti oluşturmaktır. Bu yeni değişkenler, orijinal veri setinin "temel bileşenleri" olarak adlandırılır ve bu temel bileşenler, verinin çoğu varyasyonunu açıklar.

PCA işlemi şu adımları içerir:

**Veri Standartlaştırma:** İlk adım, veri setini standartlaştırmaktır. Bu, veri değişkenlerinin ortalamasını sıfıra ve standart sapmasını bir birime getirmek anlamına gelir. Bu,farklı ölçeklerdeki değişkenlerin karşılaştırılabilir hale gelmesini sağlar.

**Kovaryans Matrisinin Hesaplanması:** Veri setinin kovaryans matrisi hesaplanır. Bu matris, değişkenler arasındaki ilişkileri gösterir.

**Özdeğer ve Özvektörlerin Hesaplanması:** Kovaryans matrisinin özdeğerleri ve özvektörleri hesaplanır. Özdeğerler, yeni değişkenlerin açıkladığı varyasyon miktarını gösterirken, özvektörler yeni değişkenlerin yönünü belirler.

**Özdeğerlerin Sıralanması:** Özdeğerler büyükten küçüğe sıralanır ve bu sıralama, veri setinin en önemli bileşenlerini belirler.

**Temel Bileşenlerin Seçilmesi:** İlgilenilen bileşen sayısını seçin ve bu bileşenlerin özvektörlerini kullanarak yeni değişkenleri hesaplayın.

**Yeni Veri Kümesinin Oluşturulması:** Seçilen temel bileşenlere dayalı olarak yeni bir veri kümesi oluşturun.Ve elde edilen yeni veri kümesi incelenir ve analiz edilebilir hale gelir.


PCA Amacı 
--
**-** Değişken sayısını azalatmak (Boyut indirgeme)

**-** Değişkenler arasındaki bağımlılık yapısını yok etmek.Birbiri ile bağımsız yeni değişkenler oluşturmak.

**-** Gözlenen değişkenlerdeki varyansları maximum düzeyde temsil edecek matris oluşturmak.

**-** Büyük boyutlu uzaydaki bir verinin, bir alt uzaya indirgemeyi amaçlar.

**-** Gereksiz sayılan değişkeni veri setinden tamamen yok etmek yerine sıkılaştırmayı amaçlar.

**-** Yeni bir eksen oluşturduğumuzda varyansların yani değişimleri en iyi şekilde açıklayan bir temel bileşen oluşturmaktır.


Temel Bileşenler Analizine başlamadan önce İstatistiksel olarak Bartlett Testi (Küresellik Testi) yapmalıyız.Nedeni temel bileşenler analizinin incelene bilmesi için değişkenler arasındaki ilişkinin önemli olması gerekir. 


**1-Bartlett Testi (Küresellik Testi)**

H<sub>0</sub> : R=I (Değişkenler arasındaki ilişki önemsizdir.)

H<sub>0</sub> : R≠I (Değişkenler arasındaki ilişki önemlidir.) 

<span>$$\\chi^2 = - \left( n - 1 - \frac{{2p + 5}}{{6}} \right) \ln \left( \frac{{\det(R)}}{{\text{det}}} \right)\$$</span> 


R:Özdeğer matrisi

-PCA'ın uygulanması için H<sub>0</sub> reddedilmelidir.(Değişkenler arasındaki ilişki önemlidir.)

-Bileşen sayısına karar verebiliriz.


λ<sub>1</sub>, ... λ<sub>p</sub>  büyükten küçüğe sırala. En büyük özdeğerden başlamak üzere;

<span>$$\(\sum_{i=1}^{m} \frac{\lambda_i}{p} \geq \frac{2}{3}\)$$<span>

2/3 yaklaşık 0.67 geliyor.Bu koşulu sağlayan en büyük m saysısı bize temel bileşen sayısını verir.Önemli temel bileşene kara vermemiz için 1'den büyük özdeğerleri toplayarak bulabiliriz.


**2-Her özdeğere karşılık gelen özvektör matrisi bulunur.(Component eigenvector matrix)**

Her bir sütun özdeğere gelen özvektörlerdir.Kaç tane değişkenimiz varsa o kadar özdeğer ve özvektöre ulaşabiliriz.

$$
T = 
\begin{bmatrix}
   &   &   \\
   &   &   \\
   &   &   \\
\end{bmatrix}
$$


**3-Asıl Temel Bileşen Matrisi (Component Matrix)**

Değişkenlerin hangi bileşen üzerine yüklendiğini gösteren matrisdir.

$$
V = 
\begin{bmatrix}
   &   &   \\
   &   &   \\
   &   &   \\
\end{bmatrix}
$$  

<span>$$V_1 = \lambda_1 \cdot t_1$$<span>

<span>$$V_2 = \lambda_2 \cdot t_2$$<span>

<span>$$V_3 = \lambda_3 \cdot t_3$$<span>

**4-Yükler Matrisi (Communalities)**

Temel bileşenlerin değişkenleri açıklama oranını gösterir. 

$$
W =
V_{ij}^2 = \begin{bmatrix}
   &   &   \\
   &   &   \\
   &   &   \\
\end{bmatrix}
$$ 

